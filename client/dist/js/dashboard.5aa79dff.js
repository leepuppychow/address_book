(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{3729:function(t,e,s){},"4f53":function(t,e,s){t.exports=s.p+"img/delete.d4677ffa.svg"},7277:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"dashboard"}},[t.popupVisible?s("ContactForm"):t._e(),s("ContactList"),s("ContactCard")],1)},n=[],o=(s("96cf"),s("3b8d")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"all-contacts"}},[a("header",[a("h3",[t._v("ALL CONTACTS")]),a("button",{on:{click:t.showPopup}},[t._v("Add Contact")])]),t._l(t.addresses,function(e){return a("div",{key:e.id,staticClass:"contact-wrapper"},[a("p",{staticClass:"contact-row",on:{click:function(s){return t.selectContact(e.id)}}},[t._v("\n      "+t._s(e.first_name)+" "+t._s(e.last_name)+"\n    ")]),a("img",{staticClass:"delete-icon",attrs:{src:s("4f53"),alt:"delete"},on:{click:function(s){return t.deleteContact(e.id)}}})])})],2)},r=[],c={computed:{addresses:function(){return this.$store.state.addresses.all}},methods:{showPopup:function(){this.$store.dispatch("modals/showContactFormPopup","new")},selectContact:function(t){this.$store.dispatch("addresses/selectContact",t)},deleteContact:function(t){this.$store.dispatch("addresses/deleteContact",t)}}},d=c,l=(s("b06f"),s("2877")),u=Object(l["a"])(d,i,r,!1,null,"8d2b40c2",null),p=u.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"contact-card"},[t.selectedContact?s("div",[s("header",[s("h3",[t._v(t._s(t.selectedContact.first_name)+" "+t._s(t.selectedContact.last_name))]),s("button",{on:{click:t.showPopup}},[t._v("Edit Contact")])]),s("i",{staticClass:"fas fa-home"}),s("p",[t._v(t._s(t.selectedContact.street))]),s("p",[t._v(t._s(t.selectedContact.city)+", "+t._s(t.selectedContact.state)+" "+t._s(t.selectedContact.zip))]),s("i",{staticClass:"fas fa-phone-volume"}),s("p",[t._v(t._s(t.selectedContact.phone))]),s("i",{staticClass:"far fa-envelope"}),s("p",[t._v(t._s(t.selectedContact.email))])]):t._e()])},h=[],f={computed:{selectedContact:function(){return this.$store.state.addresses.selectedContact}},methods:{showPopup:function(){this.$store.dispatch("modals/showContactFormPopup","edit")}}},v=f,C=(s("cdb8"),Object(l["a"])(v,m,h,!1,null,"3c911fce",null)),_=C.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"page-mask"},[s("div",{staticClass:"contact-form-modal"},[s("header",[s("h3",[t._v(t._s(t.headerTitle))]),s("button",{on:{click:t.closePopup}},[t._v("Close")])]),s("div",{staticClass:"form-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstName,expression:"firstName"}],attrs:{id:"contact-first-name",type:"text",placeholder:"First Name"},domProps:{value:t.firstName},on:{input:function(e){e.target.composing||(t.firstName=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],attrs:{id:"contact-last-name",type:"text",placeholder:"Last Name"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{id:"contact-phone",type:"text",placeholder:"Phone"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"contact-email",type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.street,expression:"street"}],attrs:{id:"contact-street",type:"text",placeholder:"Street"},domProps:{value:t.street},on:{input:function(e){e.target.composing||(t.street=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.city,expression:"city"}],attrs:{id:"contact-city",type:"text",placeholder:"City"},domProps:{value:t.city},on:{input:function(e){e.target.composing||(t.city=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.state,expression:"state"}],attrs:{id:"contact-state",type:"text",placeholder:"State"},domProps:{value:t.state},on:{input:function(e){e.target.composing||(t.state=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.zip,expression:"zip"}],attrs:{id:"contact-zip",type:"text",placeholder:"Zip"},domProps:{value:t.zip},on:{input:function(e){e.target.composing||(t.zip=e.target.value)}}})]),s("div",[s("button",{staticClass:"contact-form-btns",on:{click:t.zipLookup}},[t._v("Lookup Zipcode")]),s("button",{staticClass:"contact-form-btns",on:{click:t.submit}},[t._v("Submit")])]),s("p",[t._v(t._s(t.message))])])])])},g=[],w={data:function(){return{addressId:0,firstName:"",lastName:"",phone:"",email:"",street:"",city:"",state:"",zip:""}},created:function(){if("edit"===this.formType&&this.selectedContact){var t=this.selectedContact,e=t.id,s=t.first_name,a=t.last_name,n=t.phone,o=t.email,i=t.street,r=t.city,c=t.state,d=t.zip;this.addressId=e,this.firstName=s,this.lastName=a,this.phone=n,this.email=o,this.street=i,this.city=r,this.state=c,this.zip=d}},computed:{formType:function(){return this.$store.state.modals.contactFormType},headerTitle:function(){return"new"===this.formType?"Create New Contact":"edit"===this.formType?"Edit Contact":""},message:function(){var t=this.$store.state.addresses,e=t.successMessage,s=t.error;return e||s},selectedContact:function(){return this.$store.state.addresses.selectedContact}},methods:{closePopup:function(){this.$store.dispatch("modals/hideContactFormPopup")},zipLookup:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={street:this.street,city:this.city,state:this.state},t.next=3,this.$store.dispatch("addresses/zipcodeLookup",e);case 3:this.zip=this.$store.state.addresses.zipcodeLookup;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),submit:function(){var t={id:this.addressId,first_name:this.firstName,last_name:this.lastName,phone:this.phone,email:this.email,street:this.street,city:this.city,state:this.state,zip:this.zip};"new"===this.formType?this.$store.dispatch("addresses/createContact",t):"edit"===this.formType&&this.$store.dispatch("addresses/editContact",t)}}},y=w,x=(s("81e0"),Object(l["a"])(y,b,g,!1,null,"af1b33dc",null)),N=x.exports,k={components:{ContactList:p,ContactCard:_,ContactForm:N},computed:{popupVisible:function(){return this.$store.state.modals.contactFormVisible},validToken:function(){return this.$store.state.users.success},addresses:function(){return this.$store.state.addresses.all}},beforeRouteEnter:function(t,e,s){var a=sessionStorage.getItem("addressToken");a||s(!1),s(function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("users/validateToken",a);case 2:if(e.validToken){t.next=6;break}s("/"),t.next=9;break;case 6:return t.next=8,e.$store.dispatch("addresses/getAllContacts");case 8:s();case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},$=k,P=(s("b9a8"),Object(l["a"])($,a,n,!1,null,"311fb1a5",null));e["default"]=P.exports},"81e0":function(t,e,s){"use strict";var a=s("d3cf"),n=s.n(a);n.a},"8cdf":function(t,e,s){},b06f:function(t,e,s){"use strict";var a=s("bc59"),n=s.n(a);n.a},b9a8:function(t,e,s){"use strict";var a=s("3729"),n=s.n(a);n.a},bc59:function(t,e,s){},cdb8:function(t,e,s){"use strict";var a=s("8cdf"),n=s.n(a);n.a},d3cf:function(t,e,s){}}]);
//# sourceMappingURL=dashboard.5aa79dff.js.map